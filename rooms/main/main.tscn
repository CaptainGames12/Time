[gd_scene load_steps=59 format=3 uid="uid://dcifbpe8tn1uf"]

[ext_resource type="Script" uid="uid://cpfmollh1xmdd" path="res://rooms/main/main.gd" id="1_4ufej"]
[ext_resource type="PackedScene" uid="uid://dwi7bdg27wpbr" path="res://Wizard/Wizard.tscn" id="1_28m1h"]
[ext_resource type="AudioStream" uid="uid://cje471liap8dj" path="res://shopping/coin.wav" id="2_chvbv"]
[ext_resource type="AudioStream" uid="uid://ovv271nxqgpj" path="res://Wizard/dio-time-stop.mp3" id="3_2iv3q"]
[ext_resource type="PackedScene" uid="uid://7kfpfr1fhuh5" path="res://Wizard/player_ui/control.tscn" id="3_bkj6u"]
[ext_resource type="Script" uid="uid://bvgi5hq7cq5gn" path="res://Wizard/camera_2d.gd" id="3_tm1hv"]
[ext_resource type="PackedScene" uid="uid://dmrk7fnn3wb0j" path="res://Wizard/player_ui/Healthbar.tscn" id="5_0dchd"]
[ext_resource type="FontFile" uid="uid://bpp82k7v8e671" path="res://shopping/PixelatedEleganceRegular-ovyAA.ttf" id="6_qmpgk"]
[ext_resource type="Texture2D" uid="uid://cx35hpaer8iyo" path="res://shopping/money.png" id="7_7hk6n"]
[ext_resource type="PackedScene" uid="uid://bworkwhvc0mcv" path="res://Wizard/inventory/inventory.tscn" id="8_lflfe"]
[ext_resource type="Texture2D" uid="uid://b43pjmuwn1i84" path="res://ui/save_button.png" id="12_b2wfq"]
[ext_resource type="Texture2D" uid="uid://bto51yitt2ds4" path="res://ui/pressed_save.png" id="13_rkn7l"]
[ext_resource type="PackedScene" uid="uid://dfetviixmo6rp" path="res://rooms/main/treasure.tscn" id="13_st04a"]
[ext_resource type="PackedScene" uid="uid://cbvctbxxv3rvi" path="res://Enemies/boss/boss_health.tscn" id="13_v24id"]
[ext_resource type="PackedScene" uid="uid://byyvwanp7uc17" path="res://rooms/main/level_progress.tscn" id="14_v2j20"]
[ext_resource type="PackedScene" uid="uid://c5hxob0bgx8yb" path="res://rooms/main/tree.tscn" id="15_qea0l"]
[ext_resource type="PackedScene" uid="uid://xd5fsmhf0pj7" path="res://ui/time_stop_btn.tscn" id="16_0bf1a"]
[ext_resource type="Texture2D" uid="uid://bex85l0n7gfvt" path="res://ui/normal_restart.png" id="17_2h7oy"]
[ext_resource type="PackedScene" uid="uid://bjsj1mwug051v" path="res://ui/controls/joystick.tscn" id="17_4k2ai"]
[ext_resource type="PackedScene" uid="uid://bi22hwrsfppr5" path="res://ui/dialog/dialogs.tscn" id="17_tm1hv"]
[ext_resource type="AudioStream" uid="uid://ds7spg85qkrto" path="res://rooms/main/main-theme.mp3" id="17_ubvls"]
[ext_resource type="PackedScene" uid="uid://dx6ah8cjdrku2" path="res://rooms/main/shadow.tscn" id="17_w8gtq"]
[ext_resource type="Texture2D" uid="uid://ccxbm7ynl0ukh" path="res://ui/controls/joystick-attack.png" id="18_4k2ai"]
[ext_resource type="Texture2D" uid="uid://b50rpcijpbgyp" path="res://ui/pressed_restart.png" id="18_bjhwx"]
[ext_resource type="Texture2D" uid="uid://cc5dag3vjrnww" path="res://ui/controls/joystick.png" id="18_m3omd"]
[ext_resource type="Script" path="res://scene_manager/scene_changer_main.gd" id="19_4j2le"]
[ext_resource type="PackedScene" uid="uid://dj3g4s7hfeffe" path="res://rooms/shop/shop.tscn" id="20_h78s4"]
[ext_resource type="Texture2D" uid="uid://i1hwxo0kun40" path="res://ui/heal_btn.png" id="20_o4joc"]
[ext_resource type="Texture2D" uid="uid://c8ewn13w3edbo" path="res://ui/heal_pressed.png" id="21_u7l0b"]
[ext_resource type="PackedScene" uid="uid://dibl3hw88xbdh" path="res://ui/heal_window.tscn" id="22_u7l0b"]
[ext_resource type="Texture2D" uid="uid://dqihn4rguc2al" path="res://rooms/main/locate.png" id="27_ayxu2"]
[ext_resource type="Texture2D" uid="uid://bikoth7p3iqff" path="res://rooms/shop/iron_bar_v2.png" id="30_tm1hv"]
[ext_resource type="Texture2D" uid="uid://c1psrg47nignr" path="res://rooms/shop/iron_barrer.png" id="31_tm1hv"]

[sub_resource type="LabelSettings" id="LabelSettings_40i0a"]
font = ExtResource("6_qmpgk")
font_size = 36

[sub_resource type="GDScript" id="GDScript_g8e8a"]
script/source = "extends Label
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0bf1a"]
size = Vector2(25, 15)

[sub_resource type="LabelSettings" id="LabelSettings_oosx8"]
font = ExtResource("6_qmpgk")
font_size = 84

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tm1hv"]
size = Vector2(25, 15)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_xu4os"]
vertices = PackedVector2Array(829.828, 643.703, 1143.3, 650.25, 394.711, 647.672, 764.438, 643.703, 986.297, 427.594, 330.828, 375.703, 959.438, 340.703, 1024.83, 340.703, 1038.38, 417.172, 726.008, 634.094, 384.359, 601.078, 1143.3, 22.7578, 1068.83, 546.703, 1053.36, 477.078, 921.008, 331.094, 1009.36, 271.078, 994.383, 211.172, 1003.44, 546.703, 965.008, 537.094, 814.359, 574.078, 317.297, 551.594, 317.297, 590.141, 300.133, 647.344, 209.828, 604.703, 194.359, 535.078, 265.438, 375.703, 9.78906, 646.344, 144.438, 604.703, 106.008, 595.094, 127.297, 524.141, 14.6016, 28.6328, 127.297, 485.594, 942.297, 221.594, 942.297, 260.141, 827.828, 270.703, 812.359, 201.078, 762.438, 270.703, 724.008, 261.094, 315.359, 306.078, 216.828, 288.703, 248.297, 256.594, 248.297, 295.141, 227.008, 366.094, 201.359, 219.078, 799.383, 514.172, 179.383, 475.172, 113.008, 279.094, 986.297, 466.141, 747.297, 524.594, 151.438, 288.703, 745.297, 190.141, 300.383, 246.172, 745.297, 151.594, 747.297, 563.141, 369.383, 541.172, 134.297, 208.141, 134.297, 169.594, 797.383, 141.172, 186.383, 159.172)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7, 8), PackedInt32Array(9, 3, 2, 10), PackedInt32Array(7, 11, 1, 12, 13), PackedInt32Array(7, 13, 8), PackedInt32Array(14, 6, 5), PackedInt32Array(11, 7, 15), PackedInt32Array(11, 15, 16), PackedInt32Array(12, 1, 0, 17), PackedInt32Array(18, 17, 0, 19), PackedInt32Array(20, 21, 22, 23, 24, 25), PackedInt32Array(23, 22, 26, 27), PackedInt32Array(28, 27, 26), PackedInt32Array(29, 28, 26, 30, 31), PackedInt32Array(32, 33, 14, 34, 35), PackedInt32Array(34, 14, 5, 36), PackedInt32Array(37, 36, 5, 38), PackedInt32Array(39, 40, 41, 42), PackedInt32Array(40, 39, 43), PackedInt32Array(18, 19, 44), PackedInt32Array(45, 31, 30, 46), PackedInt32Array(5, 4, 47, 18, 44), PackedInt32Array(5, 44, 48), PackedInt32Array(49, 39, 42, 45), PackedInt32Array(50, 37, 38, 51, 52), PackedInt32Array(5, 48, 53, 9, 10, 54), PackedInt32Array(5, 54, 20, 25), PackedInt32Array(25, 24, 45, 42), PackedInt32Array(46, 49, 45), PackedInt32Array(55, 46, 30, 56), PackedInt32Array(16, 32, 35, 57, 11), PackedInt32Array(58, 56, 30), PackedInt32Array(58, 30, 11), PackedInt32Array(51, 40, 43, 58, 11, 52), PackedInt32Array(57, 52, 11)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1156, 10, 1156, 663, -3, 659, 2, 16)])
agent_radius = 12.7

[sub_resource type="AtlasTexture" id="AtlasTexture_4k2ai"]
atlas = ExtResource("30_tm1hv")
region = Rect2(0, 0, 15, 10)

[sub_resource type="AtlasTexture" id="AtlasTexture_m3omd"]
atlas = ExtResource("30_tm1hv")
region = Rect2(15, 0, 15, 10)

[sub_resource type="AtlasTexture" id="AtlasTexture_wewfl"]
atlas = ExtResource("30_tm1hv")
region = Rect2(30, 0, 15, 10)

[sub_resource type="AtlasTexture" id="AtlasTexture_o4joc"]
atlas = ExtResource("30_tm1hv")
region = Rect2(45, 0, 15, 10)

[sub_resource type="AtlasTexture" id="AtlasTexture_u7l0b"]
atlas = ExtResource("30_tm1hv")
region = Rect2(60, 0, 15, 10)

[sub_resource type="AtlasTexture" id="AtlasTexture_ayxu2"]
atlas = ExtResource("30_tm1hv")
region = Rect2(60, 0, 15, 10)

[sub_resource type="AtlasTexture" id="AtlasTexture_bgttg"]
atlas = ExtResource("30_tm1hv")
region = Rect2(45, 0, 15, 10)

[sub_resource type="AtlasTexture" id="AtlasTexture_npqg4"]
atlas = ExtResource("30_tm1hv")
region = Rect2(30, 0, 15, 10)

[sub_resource type="AtlasTexture" id="AtlasTexture_j4mwt"]
atlas = ExtResource("30_tm1hv")
region = Rect2(15, 0, 15, 10)

[sub_resource type="AtlasTexture" id="AtlasTexture_q87bq"]
atlas = ExtResource("30_tm1hv")
region = Rect2(0, 0, 15, 10)

[sub_resource type="AtlasTexture" id="AtlasTexture_ehthk"]
atlas = ExtResource("31_tm1hv")
region = Rect2(0, 31, 298, 31)

[sub_resource type="SpriteFrames" id="SpriteFrames_wewfl"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4k2ai")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m3omd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wewfl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o4joc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u7l0b")
}],
"loop": false,
"name": &"close",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ayxu2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bgttg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_npqg4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j4mwt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q87bq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ehthk")
}],
"loop": false,
"name": &"open",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_aatvm"]
size = Vector2(194, 43.4649)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ndgev"]
size = Vector2(41.3333, 13.75)

[sub_resource type="CanvasTexture" id="CanvasTexture_xescj"]

[sub_resource type="Animation" id="Animation_23j7k"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Treasure:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(575, 309)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Treasure_shadow:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_v2j20"]
resource_name = "crystal"
length = 2.0
loop_mode = 1
step = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Treasure:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.99, 2.02),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(900, 500), Vector2(900, 470), Vector2(900, 500)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Treasure_shadow:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.98, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0.8, 0.8), Vector2(0.679998, 0.733553), Vector2(0.8, 0.8)]
}

[sub_resource type="Animation" id="Animation_jgkow"]
resource_name = "ending"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 1.98, 3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(0.458405, 0.458405, 0.458405, 1), Color(0.122252, 0.122252, 0.122252, 1), Color(0, 0, 0, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_pbnns"]
_data = {
&"RESET": SubResource("Animation_23j7k"),
&"crystal": SubResource("Animation_v2j20"),
&"ending": SubResource("Animation_jgkow")
}

[node name="Node2D" type="Node2D" groups=["level"]]
process_mode = 1
y_sort_enabled = true
script = ExtResource("1_4ufej")

[node name="Player" parent="." groups=["player", "target"] instance=ExtResource("1_28m1h")]
position = Vector2(582, 449)
scale = Vector2(0.991811, 1)
collision_layer = 1

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(4.03302, -56)
scale = Vector2(17.9317, 472.044)
limit_left = 0
limit_top = 0
limit_right = 1920
limit_bottom = 1080
limit_smoothed = true
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true
editor_draw_limits = true
editor_draw_drag_margin = true
script = ExtResource("3_tm1hv")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer" parent="Player"]
stream = ExtResource("3_2iv3q")
volume_db = -12.181

[node name="CanvasLayer" type="CanvasLayer" parent="Player"]
follow_viewport_scale = 20.388

[node name="Boss_health" parent="Player/CanvasLayer" instance=ExtResource("13_v24id")]
visible = false

[node name="Stamina" parent="Player/CanvasLayer" instance=ExtResource("3_bkj6u")]
offset_left = 29.0
offset_top = -5.99997
offset_right = 93.0
offset_bottom = 58.0
scale = Vector2(3.88, 3.56)

[node name="Health" parent="Player/CanvasLayer" instance=ExtResource("5_0dchd")]
offset_left = 20.304
offset_top = -143.0
offset_right = 84.304
offset_bottom = -79.0
scale = Vector2(6.34209, 5.79179)

[node name="Price" type="Label" parent="Player/CanvasLayer"]
offset_left = 973.0
offset_top = 43.0
offset_right = 1013.0
offset_bottom = 81.0
scale = Vector2(1.91124, 1.91124)
text = "0"
label_settings = SubResource("LabelSettings_40i0a")
horizontal_alignment = 2
script = SubResource("GDScript_g8e8a")

[node name="Control" parent="Player/CanvasLayer" instance=ExtResource("8_lflfe")]
unique_name_in_owner = true
offset_left = -5.0
offset_right = -5.0
size_flags_horizontal = 4
size_flags_vertical = 8

[node name="Money" type="Sprite2D" parent="Player/CanvasLayer"]
position = Vector2(1101, 52)
scale = Vector2(3.9687, 3.56753)
texture = ExtResource("7_7hk6n")

[node name="Saving" type="Control" parent="Player/CanvasLayer"]
layout_mode = 3
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -7.0
offset_top = -224.0
offset_right = -7.0
offset_bottom = -224.0
grow_horizontal = 0
grow_vertical = 0
scale = Vector2(5.86316, 6.3444)

[node name="SaveButton" type="TouchScreenButton" parent="Player/CanvasLayer/Saving"]
position = Vector2(-29.5063, -25.0615)
scale = Vector2(1, 0.922)
texture_normal = ExtResource("12_b2wfq")
texture_pressed = ExtResource("13_rkn7l")
shape = SubResource("RectangleShape2D_0bf1a")

[node name="RestartUI" type="Control" parent="Player/CanvasLayer"]
process_mode = 3
visible = false
z_index = 6
layout_mode = 3
anchors_preset = 0

[node name="GameOver" type="Label" parent="Player/CanvasLayer/RestartUI"]
layout_mode = 0
offset_left = 278.0
offset_top = 234.0
offset_right = 885.0
offset_bottom = 310.0
text = "Game Over"
label_settings = SubResource("LabelSettings_oosx8")

[node name="RestartButton" type="TouchScreenButton" parent="Player/CanvasLayer/RestartUI"]
process_mode = 3
z_index = 9
position = Vector2(481, 341)
scale = Vector2(5.94104, 6.15733)
texture_normal = ExtResource("17_2h7oy")
texture_pressed = ExtResource("18_bjhwx")

[node name="LevelProgress" parent="Player/CanvasLayer" instance=ExtResource("14_v2j20")]
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 10.0
offset_top = -196.0
offset_right = 26.0
offset_bottom = -116.0
grow_vertical = 2
scale = Vector2(4.34891, 4.34891)
size_flags_horizontal = 0

[node name="TimeStop" parent="Player/CanvasLayer" instance=ExtResource("16_0bf1a")]
position = Vector2(971, 137)
scale = Vector2(6, 6)
shape = SubResource("RectangleShape2D_tm1hv")

[node name="Heal_window" parent="Player/CanvasLayer" instance=ExtResource("22_u7l0b")]
visible = false
offset_left = -1.0
offset_top = -4.0
offset_right = -1.0
offset_bottom = -4.0

[node name="Dialogs" parent="Player/CanvasLayer" instance=ExtResource("17_tm1hv")]
visible = false
offset_left = -123.0
offset_top = -9.0
offset_right = -123.0
offset_bottom = -9.0
scale = Vector2(1.3, 1.3)

[node name="Joystick" parent="Player/CanvasLayer" instance=ExtResource("17_4k2ai")]
position = Vector2(153, 525)
scale = Vector2(6, 6)

[node name="Stick" type="TextureRect" parent="Player/CanvasLayer/Joystick"]
offset_left = -16.0
offset_top = -16.0
offset_right = 16.0
offset_bottom = 16.0
texture = ExtResource("18_m3omd")

[node name="SpellJoystick" parent="Player/CanvasLayer" instance=ExtResource("17_4k2ai")]
position = Vector2(1035, 528)
scale = Vector2(6, 6)

[node name="Stick" type="TextureRect" parent="Player/CanvasLayer/SpellJoystick"]
offset_left = -16.0
offset_top = -16.0
offset_right = 16.0
offset_bottom = 16.0
texture = ExtResource("18_4k2ai")

[node name="Heal" type="TextureButton" parent="Player/CanvasLayer"]
offset_left = 265.0
offset_top = 52.0
offset_right = 307.0
offset_bottom = 111.0
scale = Vector2(2.64454, 1.88754)
texture_normal = ExtResource("20_o4joc")
texture_pressed = ExtResource("21_u7l0b")
stretch_mode = 0

[node name="Stamina_timer" type="Timer" parent="Player"]
wait_time = 0.5

[node name="Cooldown_timer" type="Timer" parent="Player"]
wait_time = 0.5
one_shot = true
autostart = true

[node name="Collect_coin" type="AudioStreamPlayer2D" parent="Player"]
stream = ExtResource("2_chvbv")

[node name="Treasure_shadow" parent="." instance=ExtResource("17_w8gtq")]
z_index = -1
position = Vector2(573.042, 331.042)

[node name="Treasure" parent="." groups=["target"] instance=ExtResource("13_st04a")]
y_sort_enabled = true
position = Vector2(575, 309)
scale = Vector2(6.56264, 6.56264)

[node name="Entrances" type="Node2D" parent="."]
position = Vector2(545, 152)

[node name="any" type="Marker2D" parent="Entrances"]
position = Vector2(372, 72)

[node name="Forest" type="Sprite2D" parent="."]
position = Vector2(1, 1)
scale = Vector2(8, 8.532)
texture = ExtResource("27_ayxu2")
centered = false

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
y_sort_enabled = true
position = Vector2(7, -26)
navigation_polygon = SubResource("NavigationPolygon_xu4os")

[node name="Tree" parent="NavigationRegion2D" instance=ExtResource("15_qea0l")]
position = Vector2(967, 280)
scale = Vector2(6, 6)

[node name="Tree4" parent="NavigationRegion2D" instance=ExtResource("15_qea0l")]
position = Vector2(770, 210)
scale = Vector2(6, 6)

[node name="Tree2" parent="NavigationRegion2D" instance=ExtResource("15_qea0l")]
position = Vector2(342, 610)
scale = Vector2(6, 6)

[node name="Tree3" parent="NavigationRegion2D" instance=ExtResource("15_qea0l")]
position = Vector2(273, 315)
scale = Vector2(6, 6)

[node name="Tree5" parent="NavigationRegion2D" instance=ExtResource("15_qea0l")]
position = Vector2(152, 544)
scale = Vector2(6, 6)

[node name="Tree6" parent="NavigationRegion2D" instance=ExtResource("15_qea0l")]
position = Vector2(1011, 486)
scale = Vector2(6, 6)

[node name="Tree7" parent="NavigationRegion2D" instance=ExtResource("15_qea0l")]
position = Vector2(772, 583)
scale = Vector2(6, 6)

[node name="Tree8" parent="NavigationRegion2D" instance=ExtResource("15_qea0l")]
position = Vector2(159, 228)
scale = Vector2(6, 6)

[node name="Tree9" parent="NavigationRegion2D" instance=ExtResource("15_qea0l")]
position = Vector2(676, 475)
scale = Vector2(6, 6)

[node name="Tree10" parent="NavigationRegion2D" instance=ExtResource("15_qea0l")]
position = Vector2(426, 239)
scale = Vector2(6, 6)

[node name="Tree11" parent="NavigationRegion2D" instance=ExtResource("15_qea0l")]
position = Vector2(397, 426)
scale = Vector2(6, 6)

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("17_ubvls")
autoplay = true
parameters/looping = true

[node name="SpawnHolder" type="Node2D" parent="."]

[node name="Spawner" type="Node2D" parent="SpawnHolder"]
position = Vector2(862, 1026)

[node name="Spawner2" type="Node2D" parent="SpawnHolder"]
position = Vector2(1878, 580)

[node name="Spawner4" type="Node2D" parent="SpawnHolder"]
position = Vector2(48, 590)

[node name="CooldownBetweenWaves" type="Timer" parent="."]
wait_time = 5.0
one_shot = true
autostart = true

[node name="Entrance_shop" type="StaticBody2D" parent="."]
process_mode = 3
position = Vector2(908, 102)
scale = Vector2(3, 4)
collision_layer = 9

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Entrance_shop"]
position = Vector2(-0.415588, -16.8228)
scale = Vector2(1.17118, 0.73971)
build_mode = 1
polygon = PackedVector2Array(27.393, -0.915493, -24.1039, -3.29142, -26.1141, 35.9233, -13.5912, 35.9233, -7.8961, 9.14284, 13.7143, 12.0686, 16.5778, 35.5853, 29.6699, 35.5853)

[node name="Entrance_anim" type="AnimatedSprite2D" parent="Entrance_shop"]
position = Vector2(1.33333, 2.25)
scale = Vector2(2.58997, 2.11606)
sprite_frames = SubResource("SpriteFrames_wewfl")
animation = &"close"
frame = 4
frame_progress = 1.0

[node name="SceneChanger" type="Area2D" parent="Entrance_shop"]
process_mode = 3
position = Vector2(-1.24676, -25.9657)
scale = Vector2(0.415584, 0.365714)
script = ExtResource("19_4j2le")
scene = "shop"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Entrance_shop/SceneChanger"]
process_mode = 3
position = Vector2(6, 88.2324)
scale = Vector2(0.2, 1)
shape = SubResource("RectangleShape2D_aatvm")

[node name="Closed" type="StaticBody2D" parent="Entrance_shop"]
collision_layer = 32

[node name="ClosedCollision" type="CollisionShape2D" parent="Entrance_shop/Closed"]
position = Vector2(2.33333, 3.875)
shape = SubResource("RectangleShape2D_ndgev")

[node name="TextureRect" type="TextureRect" parent="."]
visible = false
modulate = Color(0, 0, 0, 1)
self_modulate = Color(0, 0, 0, 1)
z_index = 5
offset_right = 1154.0
offset_bottom = 654.0
texture = SubResource("CanvasTexture_xescj")

[node name="Barrier" type="StaticBody2D" parent="."]
position = Vector2(0, 33)
scale = Vector2(1.57641, 1.57641)
collision_layer = 8
collision_mask = 17

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Barrier"]
position = Vector2(29, 2)
polygon = PackedVector2Array(1212, 632, 1183, 667, 1167, 52, -25, 47, -30, 670, 1191, 671, 1159, 736, -71, 691, -90, -70, 522.552, -58.2955, 1204, -45)

[node name="Shop" parent="." instance=ExtResource("20_h78s4")]
z_index = -1
position = Vector2(30, -1199)
scale = Vector2(1.66065, 1.66065)

[node name="StopVec" type="RayCast2D" parent="."]
process_mode = 3
scale = Vector2(10, 1)
target_position = Vector2(0, 15)
collision_mask = 104

[node name="Main_animations" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_pbnns")
}
autoplay = "crystal"

[connection signal="pressed" from="Player/CanvasLayer/Saving/SaveButton" to="." method="_on_save_button_pressed"]
[connection signal="pressed" from="Player/CanvasLayer/RestartUI/RestartButton" to="." method="_on_restart_button_pressed"]
[connection signal="pressed" from="Player/CanvasLayer/Heal" to="." method="_on_button_pressed"]
[connection signal="timeout" from="Player/Stamina_timer" to="Player" method="_on_timer_timeout"]
[connection signal="timeout" from="Player/Cooldown_timer" to="Player" method="_on_cooldown_timer_timeout"]
[connection signal="timeout" from="CooldownBetweenWaves" to="." method="_on_cooldown_between_waves_timeout"]
[connection signal="body_entered" from="Entrance_shop/SceneChanger" to="Entrance_shop/SceneChanger" method="_on_body_entered"]
[connection signal="animation_finished" from="Main_animations" to="." method="_on_ending_animation_finished"]
